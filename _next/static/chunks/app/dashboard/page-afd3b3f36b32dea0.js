(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3196:function(e,t,s){Promise.resolve().then(s.bind(s,8300))},8300:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(7437),a=s(2265),n=s(9376),l=s(604),c=s(7105);class i{static getAuthHeaders(e){let t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}static async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({message:"HTTP error! status: ".concat(e.status)}))).message||"HTTP error! status: ".concat(e.status));return await e.json()}static async getUnifiedOrders(e){try{let t=await fetch("".concat("https://api-inner-test.bitwood.fun/api/v1","/orders/unified"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to fetch unified orders");return s.data.orders}catch(e){throw console.error("Failed to get unified orders:",e),e}}static async getOrdersByType(e,t){let s=await this.getUnifiedOrders(e);return t?s.filter(e=>e.type===t):s}static async getOrdersByStatus(e,t){let s=await this.getUnifiedOrders(e);if(!t||"all"===t)return s;let r={pending:["Pending Payment","Pending"],processing:["Payment Confirmed","Inscribing"],completed:["Completed","Inscribed"],failed:["Failed","Cancelled"]}[t]||[t];return s.filter(e=>r.includes(e.status))}}class d{static getAuthHeaders(e){let t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}static async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({message:"HTTP error! status: ".concat(e.status)}))).message||"HTTP error! status: ".concat(e.status));return await e.json()}static async getUserProfile(e){try{let t=await fetch("".concat("https://api-inner-test.bitwood.fun/api/v1","/profile"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to fetch user profile");return this.transformAuthProfileToUserProfile(s.data)}catch(e){throw console.error("Failed to get user profile:",e),e}}static transformAuthProfileToUserProfile(e){var t,s,r,a;let n=(null===(t=e.roles)||void 0===t?void 0:t.length)||0,l=0,c=0;return e.roles&&e.roles.forEach(e=>{l+=10*(e.ATKLevel||0),c+=50*(e.HPLevel||0)}),e.equips&&e.equips.forEach(e=>{l+=e.ATK||0,c+=e.HP||0}),{availableHeroes:n,gameId:e.id.toString(),bwoodInGame:(null===(s=e.prop)||void 0===s?void 0:s.bwood)||"0.0000",gold:(null===(r=e.prop)||void 0===r?void 0:r.gold)||0,fightLevel:(null===(a=e.fight)||void 0===a?void 0:a.level)||1,totalATK:Math.round(l),totalHP:Math.round(c),walletAddress:e.wallet_address}}}let o="https://api-inner-test.bitwood.fun/api/v1";class m{static getAuthHeaders(e){let t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}static async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({message:"HTTP error! status: ".concat(e.status)}))).message||"HTTP error! status: ".concat(e.status));return await e.json()}static async getFightHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=new URLSearchParams;t.page&&s.append("page",t.page.toString()),t.limit&&s.append("limit",t.limit.toString()),void 0!==t.status&&s.append("status",t.status.toString());let r=await fetch("".concat(o,"/fights?").concat(s.toString()),{method:"GET",headers:this.getAuthHeaders(e)}),a=await this.handleResponse(r);if(0!==a.errcode||!a.data)throw Error(a.message||"Failed to fetch fight history");return a.data}catch(e){throw console.error("Failed to get fight history:",e),e}}static async getFightStatistics(e){try{let t=await fetch("".concat(o,"/fights/statistics"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to fetch fight statistics");return s.data}catch(e){throw console.error("Failed to get fight statistics:",e),e}}static async getLeaderboard(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=new URLSearchParams;t.type&&s.append("type",t.type),t.period&&s.append("period",t.period),t.limit&&s.append("limit",t.limit.toString());let r=await fetch("".concat(o,"/fights/leaderboard?").concat(s.toString()),{method:"GET",headers:this.getAuthHeaders(e)}),a=await this.handleResponse(r);if(0!==a.errcode||!a.data)throw Error(a.message||"Failed to fetch leaderboard");return a.data}catch(e){throw console.error("Failed to get leaderboard:",e),e}}static async getFightDetails(e,t){try{let s=await fetch("".concat(o,"/fights/").concat(t),{method:"GET",headers:this.getAuthHeaders(e)}),r=await this.handleResponse(s);if(0!==r.errcode||!r.data)throw Error(r.message||"Failed to fetch fight details");return r.data}catch(e){throw console.error("Failed to get fight details:",e),e}}}let x="https://api-inner-test.bitwood.fun/api/v1";class u{static getAuthHeaders(e){let t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}static async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({message:"HTTP error! status: ".concat(e.status)}))).message||"HTTP error! status: ".concat(e.status));return await e.json()}static async getUserAchievements(e){try{let t=await fetch("".concat(x,"/achievement/summary"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to fetch user achievements");return s.data}catch(e){throw console.error("Failed to get user achievements:",e),e}}static async claimReward(e,t){try{let s=await fetch("".concat(x,"/achievement/claimAchiveReward"),{method:"POST",headers:this.getAuthHeaders(e),body:JSON.stringify(t)}),r=await this.handleResponse(s);if(0!==r.errcode||!r.data)throw Error(r.message||"Failed to claim achievement reward");return r.data}catch(e){throw console.error("Failed to claim achievement reward:",e),e}}static async getAchievementLogs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{let s=await fetch("".concat(x,"/achievement/achives?limit=").concat(t),{method:"GET",headers:this.getAuthHeaders(e)}),r=await this.handleResponse(s);if(0!==r.errcode||!r.data)throw Error(r.message||"Failed to fetch achievement logs");return r.data}catch(e){throw console.error("Failed to get achievement logs:",e),e}}static async getAchievementRewardLogs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{let s=await fetch("".concat(x,"/achievement/achive-rewards?limit=").concat(t),{method:"GET",headers:this.getAuthHeaders(e)}),r=await this.handleResponse(s);if(0!==r.errcode||!r.data)throw Error(r.message||"Failed to fetch achievement reward logs");return r.data}catch(e){throw console.error("Failed to get achievement reward logs:",e),e}}}let h="https://api-inner-test.bitwood.fun/api/v1";class g{static getAuthHeaders(e){let t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}static async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({message:"HTTP error! status: ".concat(e.status)}))).message||"HTTP error! status: ".concat(e.status));return await e.json()}static async dailyCheckIn(e){try{let t=await fetch("".concat(h,"/checkin/daily"),{method:"POST",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to execute check-in");return s.data}catch(e){throw console.error("Failed to execute check-in:",e),e}}static async getCheckInSummary(e){try{let t=await fetch("".concat(h,"/checkin/summary"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to fetch check-in summary");return s.data}catch(e){throw console.error("Failed to get check-in summary:",e),e}}static async getCheckInHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{let s=await fetch("".concat(h,"/checkin/history?limit=").concat(t),{method:"GET",headers:this.getAuthHeaders(e)}),r=await this.handleResponse(s);if(0!==r.errcode||!r.data)throw Error(r.message||"Failed to fetch check-in history");return r.data.records}catch(e){throw console.error("Failed to get check-in history:",e),e}}static async getUserScoreStatus(e){try{let t=await fetch("".concat(h,"/checkin/score/status"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to fetch score status");return s.data}catch(e){throw console.error("Failed to get score status:",e),e}}static async getScoreLeaderboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;try{let r=await fetch("".concat(h,"/checkin/leaderboard?limit=").concat(e,"&offset=").concat(t),{method:"GET",headers:this.getAuthHeaders(s)}),a=await this.handleResponse(r);if(0!==a.errcode||!a.data)throw Error(a.message||"Failed to fetch leaderboard");return a.data}catch(e){throw console.error("Failed to get leaderboard:",e),e}}static async getMilestonesList(e){try{let t=await fetch("".concat(h,"/checkin/milestones"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to fetch milestones");return s.data}catch(e){throw console.error("Failed to get milestones:",e),e}}static async getMilestoneAchievements(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;try{let a="".concat(h,"/checkin/achievements/history?limit=").concat(t,"&offset=").concat(s);void 0!==r&&(a+="&cycleNumber=".concat(r));let n=await fetch(a,{method:"GET",headers:this.getAuthHeaders(e)}),l=await this.handleResponse(n);if(0!==l.errcode||!l.data)throw Error(l.message||"Failed to fetch achievement history");return l.data}catch(e){throw console.error("Failed to get achievement history:",e),e}}static async getCycleHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{let r=await fetch("".concat(h,"/checkin/cycles/history?limit=").concat(t,"&offset=").concat(s),{method:"GET",headers:this.getAuthHeaders(e)}),a=await this.handleResponse(r);if(0!==a.errcode||!a.data)throw Error(a.message||"Failed to fetch cycle history");return a.data}catch(e){throw console.error("Failed to get cycle history:",e),e}}}let f="https://api-inner-test.bitwood.fun/api/v1";class p{static getAuthHeaders(e){let t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t}static async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({message:"HTTP error! status: ".concat(e.status)}))).message||"HTTP error! status: ".concat(e.status));return await e.json()}static async getMyInviteCode(e){try{let t=await fetch("".concat(f,"/invite/my-code"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to get invite code");return s.data.inviteCode}catch(e){throw console.error("Failed to get invite code:",e),e}}static async checkInviteCode(e){try{let t=await fetch("".concat(f,"/invite/check/").concat(e),{method:"GET",headers:this.getAuthHeaders()}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to check invite code");return s.data}catch(e){throw console.error("Failed to check invite code:",e),e}}static async getMyInvitees(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{let r=await fetch("".concat(f,"/invite/my-invitees?limit=").concat(t,"&offset=").concat(s),{method:"GET",headers:this.getAuthHeaders(e)}),a=await this.handleResponse(r);if(0!==a.errcode||!a.data)throw Error(a.message||"Failed to get invitees");return a.data}catch(e){throw console.error("Failed to get invitees:",e),e}}static async getMyInviteSummary(e){try{let t=await fetch("".concat(f,"/invite/my-summary"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to get invitation summary");return s.data}catch(e){throw console.error("Failed to get invitation summary:",e),e}}static async getInviterLeaderboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{let s=await fetch("".concat(f,"/leaderboard/inviter?limit=").concat(e,"&offset=").concat(t),{method:"GET",headers:this.getAuthHeaders()}),r=await this.handleResponse(s);if(0!==r.errcode||!r.data)throw Error("Failed to get inviter leaderboard");return{total:r.total||0,leaderboard:r.data}}catch(e){throw console.error("Failed to get inviter leaderboard:",e),e}}static async getMyInviterRank(e){try{let t=await fetch("".concat(f,"/leaderboard/inviter/my-rank"),{method:"GET",headers:this.getAuthHeaders(e)}),s=await this.handleResponse(t);if(0!==s.errcode||!s.data)throw Error(s.message||"Failed to get my rank");return s.data}catch(e){throw console.error("Failed to get my rank:",e),e}}}var b=s(4508),v=s(6110);function y(e){let{token:t}=e,[s,n]=(0,a.useState)("summary"),[l,c]=(0,a.useState)(0),{summary:i,loading:d,error:o}=function(e){let[t,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),i=(0,a.useRef)(!1),d=(0,a.useCallback)(async()=>{if(!e){console.warn("No token provided for fetching invitation summary");return}try{n(!0),c(null);let t=await p.getMyInviteSummary(e);s(t)}catch(e){console.error("Failed to fetch invitation summary:",e),c(e instanceof Error?e.message:"Failed to fetch summary")}finally{n(!1)}},[e]);return(0,a.useEffect)(()=>{if(console.log("[useInvitationSummary] useEffect triggered, token:",e?"exists":"missing","hasLoaded:",i.current),!e){console.log("[useInvitationSummary] No token, setting loading to false"),n(!1);return}if(i.current){console.log("[useInvitationSummary] Already loaded, skipping");return}i.current=!0;let t=!0;return(async()=>{try{console.log("[useInvitationSummary] Starting API call..."),n(!0);let r=await p.getMyInviteSummary(e);console.log("[useInvitationSummary] API response:",r),t&&(s(r),c(null))}catch(e){console.error("[useInvitationSummary] Failed to fetch invitation summary:",e),t&&c(e instanceof Error?e.message:"Failed to fetch summary")}finally{t&&(console.log("[useInvitationSummary] Setting loading to false"),n(!1))}})(),()=>{console.log("[useInvitationSummary] Cleanup"),t=!1,i.current=!1}},[e]),{summary:t,loading:r,error:l,refetch:d}}(t),{invitees:m,total:x,loading:u,error:h}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,[r,n]=(0,a.useState)([]),[l,c]=(0,a.useState)(0),[i,d]=(0,a.useState)(!1),[o,m]=(0,a.useState)(null),x=(0,a.useRef)(!1),u=(0,a.useCallback)(async()=>{if(!e){console.warn("No token provided for fetching invitees");return}try{d(!0),m(null);let r=await p.getMyInvitees(e,t,s);n(r.invitees),c(r.total)}catch(e){console.error("Failed to fetch invitees:",e),m(e instanceof Error?e.message:"Failed to fetch invitees")}finally{d(!1)}},[e,t,s]);return(0,a.useEffect)(()=>{if(!e){d(!1);return}if(x.current)return;x.current=!0;let r=!0;return(async()=>{try{d(!0);let a=await p.getMyInvitees(e,t,s);r&&(n(a.invitees),c(a.total),m(null))}catch(e){console.error("Failed to fetch invitees:",e),r&&m(e instanceof Error?e.message:"Failed to fetch invitees")}finally{r&&d(!1)}})(),()=>{r=!1,x.current=!1}},[e,t,s]),{invitees:r,total:l,loading:i,error:o,refetch:u}}(t,20,20*l),{leaderboard:g,total:f,loading:v,error:y}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)(0),[c,i]=(0,a.useState)(!1),[d,o]=(0,a.useState)(null),m=(0,a.useRef)(!1),x=(0,a.useCallback)(async()=>{try{i(!0),o(null);let s=await p.getInviterLeaderboard(e,t);r(s.leaderboard),l(s.total)}catch(e){console.error("Failed to fetch inviter leaderboard:",e),o(e instanceof Error?e.message:"Failed to fetch leaderboard")}finally{i(!1)}},[e,t]);return(0,a.useEffect)(()=>{if(m.current)return;m.current=!0;let s=!0;return(async()=>{try{i(!0);let a=await p.getInviterLeaderboard(e,t);s&&(r(a.leaderboard),l(a.total),o(null))}catch(e){console.error("Failed to fetch inviter leaderboard:",e),s&&o(e instanceof Error?e.message:"Failed to fetch leaderboard")}finally{s&&i(!1)}})(),()=>{s=!1,m.current=!1}},[e,t]),{leaderboard:s,total:n,loading:c,error:d,refetch:x}}(100,0);console.log("[InvitationTab] Render:",{token:t?"exists":"missing",summaryLoading:d,summaryError:o,summary:i,activeSubTab:s});let j=e=>{navigator.clipboard.writeText(e),N("Invite code copied to clipboard!","success")},N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=document.createElement("div");s.textContent=e,s.className="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 rpg-card !p-3 ".concat("success"===t?"!bg-green-500":"error"===t?"!bg-red-500":"!bg-blue-500"," !text-white font-bold max-w-md text-center"),document.body.appendChild(s),setTimeout(()=>{s.parentNode&&document.body.removeChild(s)},3e3)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"\uD83D\uDC65 Invitation System"}),(0,r.jsxs)("div",{className:"flex mb-6 bg-background/50 rounded-lg p-1 border-2 border-primary/30 overflow-x-auto",children:[(0,r.jsx)("button",{onClick:()=>n("summary"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("summary"===s?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"My Summary"}),(0,r.jsxs)("button",{onClick:()=>n("invitees"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("invitees"===s?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:["My Invitees (",x,")"]}),(0,r.jsx)("button",{onClick:()=>n("leaderboard"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("leaderboard"===s?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"Leaderboard"})]}),"summary"===s&&(0,r.jsx)("div",{children:d?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Loading Summary..."}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Fetching your invitation data"})]}):o?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-red-500 font-bold mb-2",children:"Error Loading Summary"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:o})]}):i?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"rpg-card !bg-primary/10 !border-primary/50 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDFAB Your Invite Code"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-primary font-mono mb-2",children:i.myInviteCode}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Share this code with friends to earn rewards!"})]}),(0,r.jsx)("button",{onClick:()=>j(i.myInviteCode),className:"rpg-btn-primary !py-2 !px-6",children:"> Copy Code"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"rpg-card !bg-blue-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total Invites"}),(0,r.jsx)("div",{className:"text-blue-400 font-bold text-2xl",children:i.totalInvites})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-green-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Active (7 Days)"}),(0,r.jsx)("div",{className:"text-green-400 font-bold text-2xl",children:i.activeInvites7d})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-yellow-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Invite Score"}),(0,r.jsx)("div",{className:"text-yellow-400 font-bold text-2xl",children:i.myInviteScore.toLocaleString()})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-purple-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"My Rank"}),(0,r.jsx)("div",{className:"text-purple-400 font-bold text-2xl",children:null!==i.myRank?"#".concat(i.myRank):"---"})]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-accent/5 !border-accent/30",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83D\uDCCB How to Invite"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-foreground",children:[(0,r.jsxs)("li",{children:["Share your invite code ",(0,r.jsx)("span",{className:"font-bold text-primary",children:i.myInviteCode})," with friends"]}),(0,r.jsx)("li",{children:"Friends enter your code in the Bitwood game (Cocos client) within 7 days of registration"}),(0,r.jsx)("li",{children:'Track your invitees and their progress in the "My Invitees" tab'}),(0,r.jsx)("li",{children:"Earn invitation score based on your invitees' activity and game progress"}),(0,r.jsx)("li",{children:"Compete on the leaderboard for top inviter rankings!"})]})]})]}):(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No summary data available"})})}),"invitees"===s&&(0,r.jsx)("div",{children:u?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Loading Invitees..."}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Fetching your invitee list"})]}):h?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-red-500 font-bold mb-2",children:"Error Loading Invitees"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:h})]}):m&&m.length>0?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Total Invitees: ",(0,r.jsx)("span",{className:"font-bold text-primary",children:x})]}),x>20&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",l+1," of ",Math.ceil(x/20)]})]}),(0,r.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,r.jsx)("div",{className:"rpg-card !bg-primary/5 !border-primary/30",children:(0,r.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsxs)("p",{className:"font-bold text-primary font-mono text-sm",children:[e.walletAddress.slice(0,10),"...",e.walletAddress.slice(-8)]}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded font-bold ".concat(e.isActive7d?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"),children:e.isActive7d?"Active":"Inactive"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Level:"}),(0,r.jsx)("span",{className:"ml-1 font-bold text-green-400",children:e.maxFightLevel})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Payment:"}),(0,r.jsx)("span",{className:"ml-1 font-bold text-yellow-400",children:e.totalPayment})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Joined:"}),(0,r.jsx)("span",{className:"ml-1 font-bold",children:(0,b.S)(e.invitedAt)})]})]}),e.lastActiveAt&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Last active: ",(0,b.S)(e.lastActiveAt)]})]})})},e.userId))}),x>20&&(0,r.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,r.jsx)("button",{onClick:()=>c(Math.max(0,l-1)),disabled:0===l,className:"rpg-btn-secondary !text-xs !py-2 !px-4",children:"< Previous"}),(0,r.jsx)("div",{className:"rpg-card !py-2 !px-4 flex items-center",children:(0,r.jsxs)("span",{className:"text-sm font-bold",children:["Page ",l+1," of ",Math.ceil(x/20)]})}),(0,r.jsx)("button",{onClick:()=>c(Math.min(Math.ceil(x/20)-1,l+1)),disabled:l>=Math.ceil(x/20)-1,className:"rpg-btn-secondary !text-xs !py-2 !px-4",children:"Next >"})]})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No invitees yet"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Share your invite code to start building your team!"})]})}),"leaderboard"===s&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Top Inviters: ",(0,r.jsx)("span",{className:"font-bold text-primary",children:f})]})}),v?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Loading Leaderboard..."}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Fetching top inviters"})]}):y?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-red-500 font-bold mb-2",children:"Error Loading Leaderboard"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:y})]}):g&&g.length>0?(0,r.jsx)("div",{className:"space-y-3",children:g.map(e=>(0,r.jsx)("div",{className:"rpg-card ".concat(e.rankPosition<=3?"!bg-yellow-500/10 !border-yellow-500/50":"!bg-secondary/5 !border-secondary/20"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"text-3xl min-w-[3rem] text-center font-bold",children:1===e.rankPosition?"\uD83E\uDD47":2===e.rankPosition?"\uD83E\uDD48":3===e.rankPosition?"\uD83E\uDD49":"#".concat(e.rankPosition)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-bold text-sm font-mono",children:[e.walletAddress.slice(0,10),"...",e.walletAddress.slice(-8)]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Code: ",(0,r.jsx)("span",{className:"font-mono text-primary",children:e.inviteCode})]}),(0,r.jsxs)("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:[(0,r.jsxs)("span",{children:["Total: ",(0,r.jsx)("span",{className:"text-blue-400 font-bold",children:e.totalInvites})]}),(0,r.jsxs)("span",{children:["Active: ",(0,r.jsx)("span",{className:"text-green-400 font-bold",children:e.activeInvites7d})]}),(0,r.jsxs)("span",{children:["Payment: ",(0,r.jsx)("span",{className:"text-yellow-400 font-bold",children:e.totalPaymentFromInvitees})]})]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-primary",children:e.inviteScore.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Score"})]})]})},e.userId))}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No leaderboard data yet"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Be the first to start inviting!"})]})]})]})}function j(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),{connected:s,address:o,disconnect:x}=(0,c.O)(),h=localStorage.getItem("authToken"),f=t.get("tab"),j=["orders","battles","achievements","checkin","ladder","invitation"],N=f&&j.includes(f)?f:"orders",[w,C]=(0,a.useState)(N),[k,D]=(0,a.useState)("all"),[S,F]=(0,a.useState)("all"),[E,A]=(0,a.useState)(void 0),[T,P]=(0,a.useState)(!1),[R,I]=(0,a.useState)(null),[L,H]=(0,a.useState)(!1),[B,O]=(0,a.useState)(!0),M=(0,a.useRef)(!1),G=(0,a.useRef)(!1),U=(0,a.useRef)(!1),W=(0,a.useRef)(!1),q=(0,a.useRef)(!1),z=(0,a.useRef)(!1),{orders:_,loading:K,error:Y,filterOrders:V,refetch:J}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{token:t,autoFetch:s=!0}=e,[r,n]=(0,a.useState)([]),[l,c]=(0,a.useState)(!1),[d,o]=(0,a.useState)(null),m=(0,a.useRef)(!1),x=(0,a.useCallback)(async()=>{if(!t){console.warn("No token provided for fetching orders");return}try{c(!0),o(null);let e=await i.getUnifiedOrders(t);n(e)}catch(e){console.error("Failed to fetch unified orders:",e),o(e instanceof Error?e.message:"Failed to fetch orders")}finally{c(!1)}},[t]),u=(0,a.useCallback)(async e=>{if(!t)return[];try{return await i.getOrdersByType(t,e)}catch(e){return console.error("Failed to fetch orders by type:",e),o(e instanceof Error?e.message:"Failed to fetch orders"),[]}},[t]),h=(0,a.useCallback)(async e=>{if(!t)return[];try{return await i.getOrdersByStatus(t,e)}catch(e){return console.error("Failed to fetch orders by status:",e),o(e instanceof Error?e.message:"Failed to fetch orders"),[]}},[t]),g=(0,a.useCallback)(e=>{switch(e){case"all":default:return r;case"pending":return r.filter(e=>["Pending Payment","Pending"].includes(e.status));case"processing":return r.filter(e=>["Payment Confirmed","Inscribing"].includes(e.status));case"completed":return r.filter(e=>["Completed","Inscribed"].includes(e.status));case"failed":return r.filter(e=>["Failed","Cancelled"].includes(e.status))}},[r]);return(0,a.useEffect)(()=>{if(!s||!t||m.current)return;m.current=!0;let e=!0;return(async()=>{try{c(!0);let s=await i.getUnifiedOrders(t);e&&(n(s),o(null))}catch(t){console.error("Failed to fetch unified orders:",t),e&&o(t instanceof Error?t.message:"Failed to fetch orders")}finally{e&&c(!1)}})(),()=>{e=!1}},[t,s]),{orders:r,loading:l,error:d,fetchOrders:x,getOrdersByType:u,getOrdersByStatus:h,filterOrders:g,refetch:x}}({token:h||void 0,autoFetch:!1}),{profile:Z,loading:X,refetch:$}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{token:t,autoFetch:s=!0}=e,[r,n]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),m=(0,a.useRef)(!1),x=(0,a.useCallback)(async()=>{if(!t){console.warn("No token provided for fetching user profile");return}try{c(!0),o(null);let e=await d.getUserProfile(t);n(e)}catch(e){console.error("Failed to fetch user profile:",e),o(e instanceof Error?e.message:"Failed to fetch profile")}finally{c(!1)}},[t]);return(0,a.useEffect)(()=>{if(!s||!t||m.current)return;m.current=!0;let e=!0;return(async()=>{try{c(!0);let s=await d.getUserProfile(t);e&&(n(s),o(null))}catch(t){console.error("Failed to fetch user profile:",t),e&&o(t instanceof Error?t.message:"Failed to fetch profile")}finally{e&&c(!1)}})(),()=>{e=!1}},[t,s]),{profile:r,loading:l,error:i,fetchProfile:x,refetch:x}}({token:h||void 0,autoFetch:!1}),{inviteCode:Q,loading:ee}=function(e){let[t,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),i=(0,a.useRef)(!1),d=(0,a.useCallback)(async()=>{if(!e){console.warn("No token provided for fetching invite code");return}try{n(!0),c(null);let t=await p.getMyInviteCode(e);s(t)}catch(e){console.error("Failed to fetch invite code:",e),c(e instanceof Error?e.message:"Failed to fetch invite code")}finally{n(!1)}},[e]);return(0,a.useEffect)(()=>{if(!e){n(!1);return}if(i.current)return;i.current=!0;let t=!0;return(async()=>{try{n(!0);let r=await p.getMyInviteCode(e);t&&(s(r),c(null))}catch(e){console.error("Failed to fetch invite code:",e),t&&c(e instanceof Error?e.message:"Failed to fetch invite code")}finally{t&&n(!1)}})(),()=>{t=!1,i.current=!1}},[e]),{inviteCode:t,loading:r,error:l,refetch:d}}(h||void 0),{fights:et,statistics:es,loading:er,error:ea,total:en,hasMore:el,fetchMore:ec,filterByStatus:ei,updateParams:ed,refetch:eo}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{token:t,autoFetch:s=!0,initialParams:r={}}=e,[n,l]=(0,a.useState)([]),[c,i]=(0,a.useState)(null),[d,o]=(0,a.useState)(!1),[x,u]=(0,a.useState)(null),[h,g]=(0,a.useState)(0),[f,p]=(0,a.useState)(r.page||1),[b,v]=(0,a.useState)(r.limit||20),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(r),C=(0,a.useRef)(!1),k=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)try{o(!0),u(null);let s=e?f+1:1,r={...N,page:s,limit:b},[a,n]=await Promise.all([m.getFightHistory(t,r),e||C.current?Promise.resolve(c):m.getFightStatistics(t)]);e?(l(e=>[...e,...a.fights]),p(s)):(l(a.fights),p(a.page)),g(a.total),v(a.limit),j(a.hasMore),n&&"object"==typeof n&&"totalFights"in n&&i(n)}catch(e){u(e instanceof Error?e.message:"Failed to fetch fight history"),console.error("Fight history fetch error:",e)}finally{o(!1)}},D=async()=>{await k(!1)},S=async()=>{y&&!d&&await k(!0)},F=(0,a.useCallback)(e=>{w(t=>({...t,...e})),p(1),l([])},[]),E=(0,a.useCallback)(e=>void 0===e?n:n.filter(t=>t.status===e),[n]);return(0,a.useEffect)(()=>{if(t&&s&&!C.current)return C.current=!0,(async()=>{await k(!1)})(),()=>{}},[t,s,JSON.stringify(N)]),(0,a.useEffect)(()=>{t&&C.current&&(async()=>{await k(!1)})()},[JSON.stringify(N)]),{fights:n,statistics:c,loading:d,error:x,total:h,page:f,limit:b,hasMore:y,refetch:D,fetchMore:S,updateParams:F,filterByStatus:E}}({token:h||void 0,autoFetch:!1,initialParams:{limit:20}}),{achievements:em,logs:ex,loading:eu,error:eh,claiming:eg,claimError:ef,claimReward:ep,refetch:eb,getAvailableRewards:ev,getTotalRewardsClaimed:ey,getProgressPercentage:ej}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{token:t,autoFetch:s=!0}=e,[r,n]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[i,d]=(0,a.useState)([]),[o,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),[g,f]=(0,a.useState)(!1),[p,b]=(0,a.useState)(null),v=(0,a.useRef)(!1),y=(0,a.useCallback)(async()=>{if(t)try{m(!0),h(null);let e=await u.getUserAchievements(t);n(e)}catch(e){h(e instanceof Error?e.message:"Failed to fetch achievements"),console.error("Achievements fetch error:",e)}finally{m(!1)}},[t]),j=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(t)try{let s=await u.getAchievementLogs(t,e);c(s)}catch(e){console.error("Achievement logs fetch error:",e)}},[t]),N=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(t)try{let s=await u.getAchievementRewardLogs(t,e);d(s)}catch(e){console.error("Achievement reward logs fetch error:",e)}},[t]),w=(0,a.useCallback)(async e=>{if(!t)return null;try{f(!0),b(null);let s=await u.claimReward(t,e);return await y(),s}catch(e){return b(e instanceof Error?e.message:"Failed to claim reward"),console.error("Claim reward error:",e),null}finally{f(!1)}},[t,y]),C=(0,a.useCallback)(async()=>{await y(),await j()},[y,j]),k=(0,a.useCallback)(()=>(null==r?void 0:r.availableRewards)||[],[r]),D=(0,a.useCallback)(()=>(null==r?void 0:r.totalRewardsClaimed)||0,[r]),S=(0,a.useCallback)((e,t)=>{let s;return(null==r?void 0:r.achievements)&&(null==(s="gainProp"===e?r.achievements.gainProp[t]:r.achievements[e][t])?void 0:s.progressPercentage)||0},[r]);return(0,a.useEffect)(()=>{if(t&&s&&!v.current)return v.current=!0,(async()=>{await y(),await j()})(),()=>{}},[t,s]),{achievements:r,logs:l,rewardLogs:i,loading:o,error:x,claiming:g,claimError:p,refetch:C,claimReward:w,loadLogs:j,loadRewardLogs:N,getAvailableRewards:k,getTotalRewardsClaimed:D,getProgressPercentage:S}}({token:h||void 0,autoFetch:!1}),{summary:eN,history:ew,loading:eC,error:ek,performCheckIn:eD,refetch:eS,getTodayReward:eF,getConsecutiveDays:eE,getCurrentCycleDay:eA,isTodayChecked:eT,getWeeklyRewards:eP,scoreStatus:eR,leaderboard:eI,milestones:eL,milestoneHistory:eH,cycleHistory:eB,scoreLoading:eO,leaderboardLoading:eM,scoreError:eG,refetchScore:eU,loadLeaderboard:eW,loadMilestoneHistory:eq,loadCycleHistory:ez,getTotalScore:e_,getNextMilestone:eK,getCycleProgress:eY,getCurrentCycleDayFor30Days:eV,getMyRank:eJ}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{token:t,autoFetch:s=!0}=e,[r,n]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[i,d]=(0,a.useState)(!1),[o,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(null),[h,f]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)(null),[w,C]=(0,a.useState)(!1),[k,D]=(0,a.useState)(!1),[S,F]=(0,a.useState)(null),E=(0,a.useRef)(!1);(0,a.useRef)(!1);let A=(0,a.useCallback)(async()=>{if(t)try{d(!0),m(null);let e=await g.getCheckInSummary(t);n(e)}catch(e){m(e instanceof Error?e.message:"Failed to fetch check-in summary"),console.error("Check-in summary fetch error:",e)}finally{d(!1)}},[t]),T=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(t)try{let s=await g.getCheckInHistory(t,e);c(s)}catch(e){console.error("Check-in history fetch error:",e)}},[t]),P=(0,a.useCallback)(async()=>{if(t)try{C(!0),F(null);let e=await g.getUserScoreStatus(t);u(e)}catch(e){F(e instanceof Error?e.message:"Failed to fetch score status"),console.error("Score status fetch error:",e)}finally{C(!1)}},[t]),R=(0,a.useCallback)(async()=>{if(t)try{let e=await g.getMilestonesList(t);b(e.milestones)}catch(e){console.error("Milestones fetch error:",e)}},[t]),I=(0,a.useCallback)(async()=>{if(!t)return{success:!1,message:"Please connect your wallet first"};try{d(!0),m(null);let e=await g.dailyCheckIn(t);return await A(),await T(),await P(),{success:!0,message:"Check-in successful! Day ".concat(e.dayInCycle,", ").concat(e.reward.amount," ").concat(e.reward.rewardType," earned!")}}catch(t){let e=t instanceof Error?t.message:"Failed to check in";return m(e),console.error("Check-in error:",t),{success:!1,message:e}}finally{d(!1)}},[t,A,T,P]),L=(0,a.useCallback)(async()=>{await A(),await T()},[A,T]),H=(0,a.useCallback)(async()=>{await P(),await R()},[P,R]),B=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t)try{D(!0);let r=await g.getScoreLeaderboard(e,s,t);f(r.leaderboard)}catch(e){console.error("Leaderboard fetch error:",e)}finally{D(!1)}},[t]),O=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if(t)try{let a=await g.getMilestoneAchievements(t,e,s,r);y(a)}catch(e){console.error("Milestone history fetch error:",e)}},[t]),M=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t)try{let r=await g.getCycleHistory(t,e,s);N(r)}catch(e){console.error("Cycle history fetch error:",e)}},[t]),G=(0,a.useCallback)(()=>{if(!r)return null;let e=r.currentDayInCycle;return r.rewardsConfig.find(t=>t.day===e)||r.nextReward},[r]),U=(0,a.useCallback)(()=>(null==r?void 0:r.consecutiveDays)||0,[r]),W=(0,a.useCallback)(()=>(null==r?void 0:r.currentDayInCycle)||1,[r]),q=(0,a.useCallback)(()=>(null==r?void 0:r.hasCheckedInToday)||!1,[r]),z=(0,a.useCallback)(()=>(null==r?void 0:r.rewardsConfig)||[],[r]),_=(0,a.useCallback)(()=>x?x.totalScore:0,[x]),K=(0,a.useCallback)(()=>x?x.nextMilestone:null,[x]),Y=(0,a.useCallback)(()=>x?x.progressPercentage:0,[x]),V=(0,a.useCallback)(()=>x?x.currentConsecutiveDays:0,[x]),J=(0,a.useCallback)(()=>{let e=h.find(e=>1===e.rank);return e?e.rank:null},[h]);return(0,a.useEffect)(()=>{if(t&&s&&!E.current)return E.current=!0,(async()=>{await A(),await T()})(),()=>{}},[t,s]),{summary:r,history:l,loading:i,error:o,performCheckIn:I,refetch:L,loadHistory:T,getTodayReward:G,getConsecutiveDays:U,getCurrentCycleDay:W,isTodayChecked:q,getWeeklyRewards:z,scoreStatus:x,leaderboard:h,milestones:p,milestoneHistory:v,cycleHistory:j,scoreLoading:w,leaderboardLoading:k,scoreError:S,refetchScore:H,loadLeaderboard:B,loadMilestoneHistory:O,loadCycleHistory:M,getTotalScore:_,getNextMilestone:K,getCycleProgress:Y,getCurrentCycleDayFor30Days:V,getMyRank:J}}({token:h||void 0,autoFetch:!1});(0,a.useEffect)(()=>{f&&j.includes(f)&&C(f)},[f]),(0,a.useEffect)(()=>{if(M.current)return;M.current=!0;let t=setTimeout(()=>{O(!1),s||e.push("/")},100);return()=>{clearTimeout(t),M.current=!1}},[s,e]),(0,a.useEffect)(()=>{!B&&s&&h&&!q.current&&(q.current=!0,setTimeout(()=>{$()},100))},[B,s,h,$]),(0,a.useEffect)(()=>{"orders"!==w||!h||K||W.current||(W.current=!0,J())},[w,h,K,J]),(0,a.useEffect)(()=>{"orders"!==w&&(W.current=!1)},[w]),(0,a.useEffect)(()=>{"battles"!==w||!h||er||U.current||(U.current=!0,ed({status:E}),eo())},[w,h,E,ed,eo,er]),(0,a.useEffect)(()=>{"battles"!==w&&(U.current=!1)},[w]),(0,a.useEffect)(()=>{"battles"===w&&(U.current=!1)},[E]),(0,a.useEffect)(()=>{"achievements"!==w||!h||eu||G.current||(G.current=!0,eb())},[w,h,eu]),(0,a.useEffect)(()=>{"achievements"!==w&&(G.current=!1)},[w]),(0,a.useEffect)(()=>{"checkin"!==w||!h||eC||z.current||(z.current=!0,(async()=>{await eS(),await eU(),await eW(10,0),await eq(10,0)})())},[w,h,eC,eS,eU,eW,eq]),(0,a.useEffect)(()=>{"checkin"!==w&&(z.current=!1)},[w]);let eZ=_.filter(e=>{if("all"!==k&&e.type!==k)return!1;if("all"===S)return!0;switch(S){case"pending":return["Pending Payment","Pending"].includes(e.status);case"processing":return["Payment Confirmed","Inscribing"].includes(e.status);case"completed":return["Completed","Inscribed"].includes(e.status);case"failed":return["Failed","Cancelled"].includes(e.status);default:return!0}}),eX=e=>{switch(e){case"Pending Payment":case"Pending":return"text-yellow-500";case"Payment Confirmed":return"text-green-500";case"Inscribing":return"text-purple-500";case"Inscribed":return"text-green-600";case"Completed":return"text-green-700";case"Failed":return"text-red-500";case"Cancelled":return"text-gray-500";default:return"text-gray-400"}},e$=e=>e,eQ=e=>{switch(e){case 0:return"Invalid";case 1:return"In Progress";case 2:return"Completed";default:return"Unknown"}},e0=e=>{switch(e){case 0:return"text-red-500";case 1:return"text-yellow-500";case 2:return"text-green-500";default:return"text-gray-400"}},e1=async()=>{if(!h||!s){e2("Please connect your wallet first","error");return}if(eT()){e2("You have already checked in today!","info");return}let e=await eD();e.success?e2(e.message,"success"):e2(e.message,"error")},e2=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=document.createElement("div");s.textContent=e,s.className="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 rpg-card !p-3 ".concat("success"===t?"!bg-green-500":"error"===t?"!bg-red-500":"!bg-blue-500"," !text-white font-bold max-w-md text-center"),document.body.appendChild(s),setTimeout(()=>{s.parentNode&&document.body.removeChild(s)},3e3)},e3=ei(E),e4=e=>{switch(e){case"gainProp":return"Resource Gains";case"useRole":return"Role Usage";case"useSkill":return"Skill Usage";case"usePassiveSkill":return"Passive Skills";default:return e}},e5=(e,t)=>{if("gainProp"===e){if("gold"===t)return"\uD83D\uDCB0";if("equipNum"===t)return"\uD83D\uDEE1️"}return"useRole"===e?"\uD83D\uDC64":"useSkill"===e?"⚔️":"usePassiveSkill"===e?"\uD83D\uDD2E":"\uD83C\uDFC6"},e8=async(e,t)=>{try{let s=await ep({type:e,assetOrKey:t});s&&alert("Successfully claimed reward: ".concat(s.rewardAmount," ").concat(t,"!"))}catch(e){console.error("Failed to claim reward:",e)}},e6=async e=>{alert("Payment functionality will be implemented in the next phase. Please use the issuance page for payments.")},e7=async e=>{alert("Cancel functionality will be implemented in the next phase. Please use the issuance page for order management.")};return B?(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Loading Dashboard..."}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Checking wallet connection"})]})}):s?(0,r.jsxs)("div",{className:"min-h-screen bg-background relative overflow-hidden font-mono",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-card to-background",children:(0,r.jsx)("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"\n              repeating-linear-gradient(\n                0deg,\n                transparent,\n                transparent 8px,\n                rgba(0,0,0,0.3) 8px,\n                rgba(0,0,0,0.3) 16px\n              )\n            "}})}),(0,r.jsx)(l.Z,{showDashboardLink:!1}),(0,r.jsxs)("main",{className:"relative z-10 max-w-6xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"rpg-card mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-primary tracking-widest uppercase mb-6 text-center",children:"YOUR GAME PROFILE"}),X?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Loading Profile..."}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Fetching your game data"})]})}):(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"rpg-card !bg-secondary/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Wallet Address"}),(0,r.jsx)("div",{className:"text-secondary font-bold text-xs font-mono",children:o?"".concat(o.slice(0,8),"...").concat(o.slice(-8)):"---"})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-purple-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Game ID"}),(0,r.jsx)("div",{className:"text-purple-400 font-bold text-sm font-mono",children:(null==Z?void 0:Z.gameId)||"---"})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-blue-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Available Heroes"}),(0,r.jsx)("div",{className:"text-blue-400 font-bold text-lg",children:(null==Z?void 0:Z.availableHeroes)||0})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-primary/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"BWOOD (In Game)"}),(0,r.jsx)("div",{className:"text-primary font-bold",children:(null==Z?void 0:Z.bwoodInGame)||"0.0000"})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-yellow-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Gold"}),(0,r.jsx)("div",{className:"text-yellow-400 font-bold",children:(null==Z?void 0:Z.gold)||0})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-green-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Fight Level"}),(0,r.jsx)("div",{className:"text-green-400 font-bold text-lg",children:(null==Z?void 0:Z.fightLevel)||1})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-red-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total ATK"}),(0,r.jsx)("div",{className:"text-red-400 font-bold",children:(null==Z?void 0:Z.totalATK)||0})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-orange-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total HP"}),(0,r.jsx)("div",{className:"text-orange-400 font-bold",children:(null==Z?void 0:Z.totalHP)||0})]})]})]}),(0,r.jsxs)("div",{className:"rpg-card",children:[(0,r.jsxs)("div",{className:"flex mb-6 bg-background/50 rounded-lg p-1 border-2 border-primary/30 overflow-x-auto",children:[(0,r.jsx)("button",{onClick:()=>C("orders"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("orders"===w?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"Order History"}),(0,r.jsx)("button",{onClick:()=>C("battles"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("battles"===w?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"Battle History"}),(0,r.jsx)("button",{onClick:()=>C("achievements"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("achievements"===w?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"Achievements"}),(0,r.jsx)("button",{onClick:()=>C("checkin"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("checkin"===w?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"Check-in & Rewards"}),(0,r.jsx)("button",{onClick:()=>C("ladder"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("ladder"===w?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"Ladder Ranking"}),(0,r.jsx)("button",{onClick:()=>C("invitation"),className:"flex-1 py-2 px-4 rounded text-sm font-medium transition-colors whitespace-nowrap ".concat("invitation"===w?"bg-primary text-white":"text-muted-foreground hover:text-primary"),children:"Invitation"})]}),"orders"===w&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"\uD83D\uDCCB Order History"}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Order Type"}),(0,r.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[(0,r.jsxs)("button",{onClick:()=>{D("all"),F("all")},className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("all"===k?"!bg-primary !text-white !border-primary":""),children:["All Types (",_.length,")"]}),(0,r.jsxs)("button",{onClick:()=>{D("issuance"),F("all")},className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("issuance"===k?"!bg-blue-500 !text-white !border-blue-500":""),children:["Issuance (",_.filter(e=>"issuance"===e.type).length,")"]}),(0,r.jsxs)("button",{onClick:()=>{D("charging"),F("all")},className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("charging"===k?"!bg-green-500 !text-white !border-green-500":""),children:["Charging (",_.filter(e=>"charging"===e.type).length,")"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-foreground mb-2",children:["Status ","all"!==k&&"(".concat(k," orders)")]}),(0,r.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[(0,r.jsxs)("button",{onClick:()=>F("all"),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("all"===S?"!bg-primary !text-white !border-primary":""),children:["All (",_.filter(e=>"all"===k||e.type===k).length,")"]}),(0,r.jsxs)("button",{onClick:()=>F("pending"),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("pending"===S?"!bg-primary !text-white !border-primary":""),children:["Pending (",_.filter(e=>("all"===k||e.type===k)&&["Pending Payment","Pending"].includes(e.status)).length,")"]}),(0,r.jsxs)("button",{onClick:()=>F("processing"),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("processing"===S?"!bg-primary !text-white !border-primary":""),children:["Processing (",_.filter(e=>("all"===k||e.type===k)&&["Payment Confirmed","Inscribing"].includes(e.status)).length,")"]}),(0,r.jsxs)("button",{onClick:()=>F("completed"),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("completed"===S?"!bg-primary !text-white !border-primary":""),children:["Completed (",_.filter(e=>("all"===k||e.type===k)&&["Completed","Inscribed"].includes(e.status)).length,")"]}),(0,r.jsxs)("button",{onClick:()=>F("failed"),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat("failed"===S?"!bg-primary !text-white !border-primary":""),children:["Failed (",_.filter(e=>("all"===k||e.type===k)&&["Failed","Cancelled"].includes(e.status)).length,")"]})]})]})]}),0===eZ.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No orders in this category"})}):(0,r.jsx)("div",{className:"space-y-4",children:eZ.map(e=>(0,r.jsx)("div",{className:"rpg-card !bg-primary/5 !border-primary/30",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsxs)("p",{className:"font-bold text-primary",children:["Order #",e.id]}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-secondary/20 border border-primary/30 font-bold ".concat(eX(e.status)),children:e$(e.status)}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded font-bold ".concat("issuance"===e.type?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-green-500/20 text-green-400 border border-green-500/30"),children:"issuance"===e.type?"Issuance":"Charging"})]}),(0,r.jsx)("p",{className:"text-sm text-foreground mb-1",children:(0,r.jsx)("span",{className:"font-bold",children:e.description})}),(0,r.jsxs)("p",{className:"text-sm text-foreground mb-1",children:["Amount: ",(0,r.jsxs)("span",{className:"font-bold",children:[e.amount," BWOOD"]})]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Created ",(0,b.S)(e.createdAt)]}),e.processedAt&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Processed ",(0,b.S)(e.processedAt)]}),e.txHash&&(0,r.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["TxID: ",e.txHash.slice(0,30),"..."]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:["Pending Payment"===e.status&&"issuance"===e.type&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>e6(e),className:"rpg-btn-primary !text-xs !py-2 !px-4",disabled:T,children:T?"> Processing...":"> Pay Now"}),(0,r.jsx)("button",{onClick:()=>e7(e.id),className:"rpg-btn-secondary !text-xs !py-2 !px-4",children:"> Cancel"})]}),e.txHash&&(0,r.jsx)("button",{onClick:()=>window.open("".concat("https://uniscan.cc/fractal","/tx/").concat(e.txHash),"_blank"),className:"rpg-btn-accent !text-xs !py-2 !px-4",children:"> View TX"}),(0,r.jsx)("button",{onClick:()=>{I(e),H(!0)},className:"rpg-btn-secondary !text-xs !py-2 !px-4",children:"> Detail"})]})]})},e.id))})]}),"battles"===w&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"⚔️ Battle History"}),es&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"rpg-card !bg-blue-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total Fights"}),(0,r.jsx)("div",{className:"text-blue-400 font-bold text-lg",children:es.totalFights})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-green-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Win Rate"}),(0,r.jsxs)("div",{className:"text-green-400 font-bold text-lg",children:[es.winRate.toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-yellow-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total Gold"}),(0,r.jsx)("div",{className:"text-yellow-400 font-bold text-lg",children:es.totalGoldEarned.toLocaleString()})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-red-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Max Level"}),(0,r.jsx)("div",{className:"text-red-400 font-bold text-lg",children:es.maxFightLevel})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Filter by Status"}),(0,r.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[(0,r.jsxs)("button",{onClick:()=>A(void 0),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat(void 0===E?"!bg-primary !text-white !border-primary":""),children:["All (",et.length,")"]}),(0,r.jsxs)("button",{onClick:()=>A(2),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat(2===E?"!bg-green-500 !text-white !border-green-500":""),children:["Completed (",ei(2).length,")"]}),(0,r.jsxs)("button",{onClick:()=>A(1),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat(1===E?"!bg-yellow-500 !text-white !border-yellow-500":""),children:["In Progress (",ei(1).length,")"]}),(0,r.jsxs)("button",{onClick:()=>A(0),className:"rpg-btn-secondary !text-xs !py-2 !px-4 whitespace-nowrap ".concat(0===E?"!bg-red-500 !text-white !border-red-500":""),children:["Invalid (",ei(0).length,")"]})]})]}),er&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Loading Battles..."}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Fetching your fight history"})]}),ea&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-red-500 font-bold mb-2",children:"Error Loading Battles"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:ea})]}),!er&&!ea&&0===e3.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No battles found"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Start playing to see your battle history here"})]}),!er&&!ea&&e3.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[e3.map(e=>(0,r.jsx)("div",{className:"rpg-card !bg-primary/5 !border-primary/30",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsxs)("p",{className:"font-bold text-primary",children:["Fight #",e.fightNo]}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-secondary/20 border border-primary/30 font-bold ".concat(e0(e.status)),children:eQ(e.status)}),(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-purple-500/20 text-purple-400 border border-purple-500/30 font-bold",children:["Level ",e.selectLevel]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Round:"}),(0,r.jsx)("span",{className:"ml-1 font-bold",children:e.curRound})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Kills:"}),(0,r.jsx)("span",{className:"ml-1 font-bold text-red-400",children:e.killed})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Gold:"}),(0,r.jsx)("span",{className:"ml-1 font-bold text-yellow-400",children:e.goldReward})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Boxes:"}),(0,r.jsx)("span",{className:"ml-1 font-bold text-blue-400",children:e.equipBoxReward})]})]}),(e.roleFragReward>0||e.skillFragReward>0)&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:["Additional rewards:",e.roleFragReward>0&&" ".concat(e.roleFragReward," Role Frags"),e.skillFragReward>0&&" ".concat(e.skillFragReward," Skill Frags")]}),(0,r.jsxs)("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Started ",(0,b.S)(e.createdAt)]}),e.updatedAt!==e.createdAt&&(0,r.jsxs)("span",{children:["Updated ",(0,b.S)(e.updatedAt)]})]}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[1===e.isRevived&&(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-orange-500/20 text-orange-400 border border-orange-500/30",children:"Revived"}),1===e.isDouble&&(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:"Double Rewards"})]})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)("button",{onClick:()=>{alert("Fight details for ".concat(e.fightNo," - Feature coming soon!"))},className:"rpg-btn-accent !text-xs !py-2 !px-4",children:"> View Details"})})]})},e.id)),el&&(0,r.jsx)("div",{className:"text-center mt-6",children:(0,r.jsx)("button",{onClick:ec,className:"rpg-btn-secondary !py-2 !px-6",disabled:er,children:er?"Loading...":"> Load More Battles"})})]})]}),"achievements"===w&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"\uD83C\uDFC6 Achievements"}),em&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"rpg-card !bg-yellow-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total Rewards Claimed"}),(0,r.jsx)("div",{className:"text-yellow-400 font-bold text-lg",children:ey().toLocaleString()})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-green-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Available Rewards"}),(0,r.jsx)("div",{className:"text-green-400 font-bold text-lg",children:ev().length})]})]}),em&&ev().length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDF81 Available Rewards"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ev().map((e,t)=>(0,r.jsx)("div",{className:"rpg-card !bg-green-500/10 !border-green-500/30",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-lg",children:e5(e.type,e.asset)}),(0,r.jsxs)("p",{className:"font-bold text-green-400",children:[e4(e.type)," - Level ",e.level]})]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Reward: ",(0,r.jsxs)("span",{className:"font-bold text-yellow-400",children:[e.rewardAmount," ",e.asset]})]})]}),(0,r.jsx)("button",{onClick:()=>e8(e.type,e.asset),className:"rpg-btn-primary !text-xs !py-2 !px-4",disabled:eg||!e.canClaim,children:eg?"Claiming...":"> Claim"})]})},t))})]}),eu&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Loading Achievements..."}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Fetching your progress"})]}),eh&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-lg text-red-500 font-bold mb-2",children:"Error Loading Achievements"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:eh})]}),ef&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-400 text-sm",children:ef})}),ex&&!eu&&(0,r.jsx)("div",{children:ex.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDFC6 Your Achievement Milestones"}),(0,r.jsx)("div",{className:"space-y-2",children:ex.map(e=>(0,r.jsx)("div",{className:"rpg-card !bg-secondary/5 !border-secondary/20",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-lg",children:e5("useSkill",e.skillName)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-sm",children:e.displayName}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.achievementCategory})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-green-400",children:["+",e.delta]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,b.S)(e.createdAt)})]})]})},e.id))})]})}),!eu&&!eh&&(!ex||0===ex.length)&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No achievements data available"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Start playing to earn achievements"})]})]}),"checkin"===w&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"\uD83D\uDCC5 Daily Check-in & Rewards"}),ek&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-400 text-sm",children:ek})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"rpg-card !bg-green-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Today's Status"}),(0,r.jsx)("div",{className:"text-green-400 font-bold text-lg",children:eC?"Loading...":eT()?"Checked In":"Not Checked In"})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-blue-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Consecutive Days (7-Day)"}),(0,r.jsx)("div",{className:"text-blue-400 font-bold text-lg",children:eC?"Loading...":"".concat(eE()," Days")})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-yellow-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"7-Day Cycle"}),(0,r.jsx)("div",{className:"text-yellow-400 font-bold text-lg",children:eC?"Loading...":"Day ".concat(eA()," of 7")})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"rpg-card !bg-purple-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total Score"}),(0,r.jsx)("div",{className:"text-purple-400 font-bold text-lg",children:eO?"Loading...":e_().toLocaleString()}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Base: ",(null==eR?void 0:eR.baseScore)||0," + Cycle: ",(null==eR?void 0:eR.currentCycleScore)||0]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-indigo-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"30-Day Cycle"}),(0,r.jsx)("div",{className:"text-indigo-400 font-bold text-lg",children:eO?"Loading...":"Day ".concat(eV()," of 30")}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Cycle #",(null==eR?void 0:eR.currentCycleNumber)||1]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-pink-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Completed Cycles"}),(0,r.jsx)("div",{className:"text-pink-400 font-bold text-lg",children:eO?"Loading...":(null==eR?void 0:eR.completedCycles)||0}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Base Score: ",(null==eR?void 0:eR.baseScore)||0]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-orange-500/10 text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"My Rank"}),(0,r.jsx)("div",{className:"text-orange-400 font-bold text-lg",children:eM?"Loading...":null!==eJ()?"#".concat(eJ()):"---"}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Out of ",eI.length," players"]})]})]}),eR&&eV()>0&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-2xl",children:"⚠️"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-red-400 font-bold text-sm",children:"WARNING: Strict Break Penalty!"}),(0,r.jsx)("p",{className:"text-red-300 text-xs mt-1",children:"Missing ANY day will reset ALL your scores (both Base Score and Current Cycle Score) to ZERO!"})]})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83D\uDCCB Weekly Check-in Progress"}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-2",children:eC?[1,2,3,4,5,6,7].map(e=>(0,r.jsxs)("div",{className:"rpg-card text-center p-4 !bg-secondary/5",children:[(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:["Day ",e]}),(0,r.jsx)("div",{className:"text-lg mb-2",children:"Loading..."})]},e)):eP().map(e=>{let t=e.day,s=eA(),a=t===s,n=t<s||t===s&&eT(),l={gold:"\uD83D\uDCB0",equipBox:"\uD83D\uDCE6",bwood:"\uD83E\uDE99",roleFragment:"\uD83D\uDD38",skillFragment:"\uD83D\uDD38",fragment:"\uD83D\uDD38"}[e.rewardType]||"\uD83C\uDF81",c="gold"===e.rewardType?"".concat(e.amount," Gold"):"bwood"===e.rewardType?"".concat(e.amount," BWOOD"):"equipBox"===e.rewardType?"".concat(e.amount," Box").concat(e.amount>1?"es":""):e.rewardType.includes("Fragment")?"".concat(e.amount," Frags"):e.description||"".concat(e.amount," ").concat(e.rewardType);return(0,r.jsxs)("div",{className:"rpg-card text-center p-4 ".concat(a?"!bg-primary/20 !border-primary":n?"!bg-green-500/10 !border-green-500/30":"!bg-secondary/5"),children:[(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:["Day ",t]}),(0,r.jsx)("div",{className:"text-2xl mb-2",children:l}),(0,r.jsx)("div",{className:"text-xs font-bold",children:c}),(0,r.jsx)("div",{className:"mt-2",children:a&&!eT()?(0,r.jsx)("div",{className:"w-6 h-6 bg-primary rounded-full mx-auto flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-xs",children:"!"})}):n?(0,r.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded-full mx-auto flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-xs",children:"✓"})}):(0,r.jsx)("div",{className:"w-6 h-6 bg-secondary/20 rounded-full mx-auto"})})]},t)})})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-primary/5 !border-primary/30 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDF81 Today's Reward"}),eC?(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading today's reward..."})}):(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[eF()&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-4xl",children:{gold:"\uD83D\uDCB0",equipBox:"\uD83D\uDCE6",bwood:"\uD83E\uDE99",roleFragment:"\uD83D\uDD38",skillFragment:"\uD83D\uDD38",fragment:"\uD83D\uDD38"}[eF().rewardType]||"\uD83C\uDF81"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-lg",children:"gold"===eF().rewardType?"".concat(eF().amount," Gold"):"bwood"===eF().rewardType?"".concat(eF().amount," BWOOD"):"equipBox"===eF().rewardType?"".concat(eF().amount," Box").concat(eF().amount>1?"es":""):eF().rewardType.includes("Fragment")?"".concat(eF().amount," Fragments"):eF().description||"".concat(eF().amount," ").concat(eF().rewardType)}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Daily reward for day ",eA()]})]})]}),!eF()&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-lg",children:"No reward data"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Check-in to earn rewards"})]})]}),(0,r.jsx)("button",{className:"rpg-btn-primary !py-3 !px-6",onClick:e1,disabled:eT()||eC,children:eC?"> Checking In...":eT()?"> Already Checked In":"> Check In"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDFAF 30-Day Milestone Progress"}),(0,r.jsxs)("div",{className:"mb-4 rpg-card !bg-purple-500/5",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Cycle Progress"}),(0,r.jsxs)("span",{className:"text-purple-400 font-bold",children:[eV()," / 30 Days (",eY(),"%)"]})]}),(0,r.jsx)("div",{className:"w-full bg-secondary/20 rounded-full h-3",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all",style:{width:"".concat(eY(),"%")}})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Current Cycle Score:"}),(0,r.jsxs)("span",{className:"ml-2 text-purple-400 font-bold",children:[(null==eR?void 0:eR.currentCycleScore)||0," / 2000"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Base Score:"}),(0,r.jsxs)("span",{className:"ml-2 text-pink-400 font-bold",children:[(null==eR?void 0:eR.baseScore)||0," (Cycles: ",(null==eR?void 0:eR.completedCycles)||0,")"]})]})]})]}),eO?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading milestones..."})}):(0,r.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[2,3,5,7,10,15,20,25,30].map(e=>{let t=eL.find(t=>t.consecutiveDays===e),s=eV(),a=(null==t?void 0:t.isAchieved)||s>=e,n=s===e-1,l=s<e;return(0,r.jsxs)("div",{className:"rpg-card text-center p-3 transition-all ".concat(a?"!bg-green-500/20 !border-green-500/50":n?"!bg-purple-500/20 !border-purple-500 animate-pulse":"!bg-secondary/5 opacity-60"),children:[(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mb-1",children:["Day ",e]}),(0,r.jsx)("div",{className:"text-2xl mb-1",children:a?"✅":l?"\uD83D\uDD12":"\uD83C\uDFAF"}),(0,r.jsxs)("div",{className:"text-sm font-bold text-primary",children:["+",(null==t?void 0:t.scoreReward)||0]}),a&&(null==t?void 0:t.achievedDate)&&(0,r.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"Achieved"}),n&&(0,r.jsx)("div",{className:"text-xs text-purple-400 mt-1 font-bold",children:"Next Goal!"})]},e)})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDFC6 Score Leaderboard (Top 10)"}),eM?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading leaderboard..."})}):eI&&eI.length>0?(0,r.jsx)("div",{className:"space-y-2",children:eI.slice(0,10).map(e=>(0,r.jsx)("div",{className:"rpg-card !bg-secondary/5 !border-secondary/20 ".concat(e.rank<=3?"!border-yellow-500/50":""),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"text-2xl min-w-[2rem] text-center",children:1===e.rank?"\uD83E\uDD47":2===e.rank?"\uD83E\uDD48":3===e.rank?"\uD83E\uDD49":"#".concat(e.rank)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-sm font-mono",children:e.userAddress?"".concat(e.userAddress.slice(0,6),"...").concat(e.userAddress.slice(-6)):"Anonymous"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Base: ",e.baseScore," | Cycle: ",e.currentCycleScore]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-lg font-bold text-purple-400",children:e.totalScore.toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Score"})]})]})},e.userId))}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"No leaderboard data yet"})})]}),eH&&eH.achievements&&eH.achievements.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83D\uDCCA Recent Milestone Achievements"}),(0,r.jsx)("div",{className:"space-y-2",children:eH.achievements.slice(0,10).map((e,t)=>(0,r.jsx)("div",{className:"rpg-card !bg-purple-500/5 !border-purple-500/20",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-lg",children:"\uD83C\uDFAF"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-bold text-sm",children:["Cycle #",e.cycleNumber," - Day ",e.consecutiveDays," Milestone"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.achievedDate).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-green-400",children:["+",e.scoreEarned," points"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Total: ",e.totalScoreAtTime]})]})]})},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83D\uDCCA Recent Check-ins (7-Day Rewards)"}),eC?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading check-in history..."})}):ew&&ew.length>0?(0,r.jsx)("div",{className:"space-y-2",children:ew.slice(0,5).map(e=>{let t={gold:"\uD83D\uDCB0",equipBox:"\uD83D\uDCE6",bwood:"\uD83E\uDE99",roleFragment:"\uD83D\uDD38",skillFragment:"\uD83D\uDD38",fragment:"\uD83D\uDD38"}[e.rewardType]||"\uD83C\uDF81",s="gold"===e.rewardType?"Gold":"bwood"===e.rewardType?"BWOOD":"equipBox"===e.rewardType?"Box":e.rewardType.includes("Fragment")?"Frags":e.rewardType;return(0,r.jsx)("div",{className:"rpg-card !bg-secondary/5 !border-secondary/20",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-lg",children:t}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-bold text-sm",children:["Day ",e.dayInCycle," Check-in"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.checkInDate).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-green-400",children:["+",e.rewardAmount," ",s]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,b.S)(e.createdAt)})]})]})},e.id)})}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"No check-in history yet"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Start checking in daily to earn rewards!"})]})]})]}),"ladder"===w&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"\uD83C\uDFC6 Ladder Ranking"}),(0,r.jsxs)("div",{className:"rpg-card !bg-primary/5 !border-primary/30 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"\uD83D\uDC64 Your Ladder Status"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"text-6xl mb-2",children:"\uD83E\uDD49"}),(0,r.jsx)("div",{className:"text-xl font-bold text-yellow-600",children:"BRONZE"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Tier Points: 0/100"})]}),(0,r.jsx)("div",{className:"w-full bg-secondary/20 rounded-full h-2 mb-2",children:(0,r.jsx)("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"0%"}})}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"0 points to Silver"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Current Rank"}),(0,r.jsx)("div",{className:"text-primary font-bold text-xl",children:"#---"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Total Score"}),(0,r.jsx)("div",{className:"text-yellow-400 font-bold text-xl",children:"0"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Season W/L"}),(0,r.jsx)("div",{className:"text-green-400 font-bold text-xl",children:"0/0"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Win Streak"}),(0,r.jsx)("div",{className:"text-blue-400 font-bold text-xl",children:"0"})]})]})]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-blue-500/5 !border-blue-500/30 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83D\uDDD3️ Current Season"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-lg",children:"Season 1: Dawn of Champions"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Status: Active"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Started: Jan 1, 2025 | Ends: Mar 31, 2025"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Season Progress"}),(0,r.jsx)("div",{className:"w-full bg-secondary/20 rounded-full h-2 mb-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"25%"}})}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"65 days remaining"})]})]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-purple-500/5 !border-purple-500/30 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDFC5 Personal Best"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Best Tier"}),(0,r.jsx)("div",{className:"text-purple-400 font-bold text-lg",children:"BRONZE"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-1",children:"Best Rank"}),(0,r.jsx)("div",{className:"text-purple-400 font-bold text-lg",children:"#---"})]})]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-green-500/5 !border-green-500/30 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83D\uDCC8 Recent Score Changes"}),(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"No score history yet"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Play battles to start earning ladder points!"})]})})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-orange-500/5 !border-orange-500/30",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"\uD83C\uDFAF Players Around Me"}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"No ranking data available"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Complete battles to see your position"})]})})]})]}),"invitation"===w&&(0,r.jsx)(y,{token:h||void 0})]})]}),(0,r.jsx)(v.Vq,{open:L,onOpenChange:H,children:(0,r.jsxs)(v.cZ,{className:"max-w-2xl",children:[(0,r.jsxs)(v.fK,{children:[(0,r.jsx)(v.$N,{className:"text-xl font-bold text-primary",children:"\uD83D\uDCCB Order Details"}),(0,r.jsxs)(v.Be,{children:["Complete information for order #",null==R?void 0:R.id]})]}),R&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rpg-card !bg-primary/5 !border-primary/30",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Order Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Order ID:"}),(0,r.jsxs)("p",{className:"font-bold text-primary",children:["#",R.id]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Type:"}),(0,r.jsx)("p",{className:"font-bold ".concat("issuance"===R.type?"text-blue-400":"text-green-400"),children:"issuance"===R.type?"Issuance":"Charging"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),(0,r.jsxs)("p",{className:"font-bold text-yellow-400",children:[R.amount," BWOOD"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Status:"}),(0,r.jsx)("p",{className:"font-bold ".concat(eX(R.status)),children:e$(R.status)})]})]})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-accent/5 !border-accent/30",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Description"}),(0,r.jsx)("p",{className:"text-foreground",children:R.description})]}),(0,r.jsxs)("div",{className:"rpg-card !bg-blue-500/5 !border-blue-500/30",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Timeline"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-foreground",children:"Order Created"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(R.createdAt).toLocaleString()})]})]}),R.processedAt&&(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-foreground",children:"Order Processed"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(R.processedAt).toLocaleString()})]})]})]})]}),R.txHash&&(0,r.jsxs)("div",{className:"rpg-card !bg-green-500/5 !border-green-500/30",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Transaction Details"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Transaction Hash:"}),(0,r.jsx)("p",{className:"font-mono text-sm text-green-400 break-all",children:R.txHash})]}),(0,r.jsx)("button",{onClick:()=>window.open("".concat("https://uniscan.cc/fractal","/tx/").concat(R.txHash),"_blank"),className:"rpg-btn-accent !text-sm !py-2 !px-4 mt-2",children:"> View on Explorer"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 justify-end",children:["Pending Payment"===R.status&&"issuance"===R.type&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{H(!1),e6(R)},className:"rpg-btn-primary !text-sm !py-2 !px-4",disabled:T,children:T?"> Processing...":"> Pay Now"}),(0,r.jsx)("button",{onClick:()=>{H(!1),e7(R.id)},className:"rpg-btn-secondary !text-sm !py-2 !px-4",children:"> Cancel Order"})]}),(0,r.jsx)("button",{onClick:()=>H(!1),className:"rpg-btn-secondary !text-sm !py-2 !px-4",children:"> Close"})]})]})]})}),(0,r.jsx)("footer",{className:"relative z-10 bg-background border-t-4 border-black p-4 mt-12",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto text-center",children:(0,r.jsxs)("div",{className:"rpg-card !mb-0 inline-block",children:[(0,r.jsx)("div",{className:"text-lg mb-2 text-primary font-bold",children:"BITWOOD ADVENTURE"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Proof of Survival on Fractal Bitcoin"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mt-2",children:"\xa9 2024 | TERMS OF SERVICE | PRIVACY POLICY"})]})})})]}):(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg text-primary font-bold mb-2",children:"Wallet Not Connected"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Redirecting to home page..."})]})})}},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[498,349,105,604,971,117,744],function(){return e(e.s=3196)}),_N_E=e.O()}]);